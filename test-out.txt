Setting up test environment...
Starting test services...
Waiting for services...
[0;32mPostgreSQL ready[0m
[0;32mRedis ready[0m
Creating test database...
DROP DATABASE
CREATE DATABASE
[0;32mDatabase created[0m
Running migrations...
[0;32mMigrations complete[0m

[0;32mTest environment ready![0m
make[1]: Entering directory 'C:/MyFiles/Code/Go/learn/redis/exc6'
Running integration tests...
=== RUN   TestAPISuite
=== RUN   TestAPISuite/TestHealthCheck
=== RUN   TestAPISuite/TestLoginEndpoint
=== RUN   TestAPISuite/TestProtectedEndpointWithAuth
=== RUN   TestAPISuite/TestProtectedEndpointWithoutAuth
=== RUN   TestAPISuite/TestRegisterEndpoint
--- PASS: TestAPISuite (0.25s)
    --- PASS: TestAPISuite/TestHealthCheck (0.00s)
    --- PASS: TestAPISuite/TestLoginEndpoint (0.13s)
    --- PASS: TestAPISuite/TestProtectedEndpointWithAuth (0.07s)
    --- PASS: TestAPISuite/TestProtectedEndpointWithoutAuth (0.00s)
    --- PASS: TestAPISuite/TestRegisterEndpoint (0.00s)
=== RUN   TestMetricsSuite
=== RUN   TestMetricsSuite/TestChatMetricsRecorded
    metrics_test.go:87: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:87
        	Error:      	"" does not contain "chat_messages_queued_total"
        	Test:       	TestMetricsSuite/TestChatMetricsRecorded
    metrics_test.go:88: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:88
        	Error:      	"" does not contain "chat_message_buffer_size"
        	Test:       	TestMetricsSuite/TestChatMetricsRecorded
=== RUN   TestMetricsSuite/TestDatabaseMetricsCollector
    metrics_test.go:228: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:228
        	Error:      	"" does not contain "database_connections_in_use"
        	Test:       	TestMetricsSuite/TestDatabaseMetricsCollector
    metrics_test.go:229: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:229
        	Error:      	"" does not contain "database_connections_idle"
        	Test:       	TestMetricsSuite/TestDatabaseMetricsCollector
    metrics_test.go:230: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:230
        	Error:      	"" does not contain "database_max_open_connections"
        	Test:       	TestMetricsSuite/TestDatabaseMetricsCollector
=== RUN   TestMetricsSuite/TestErrorMetricsRecorded
    metrics_test.go:153: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:153
        	Error:      	"" does not contain "errors_total"
        	Test:       	TestMetricsSuite/TestErrorMetricsRecorded
    metrics_test.go:154: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:154
        	Error:      	"" does not contain "VALIDATION_FAILED"
        	Test:       	TestMetricsSuite/TestErrorMetricsRecorded
=== RUN   TestMetricsSuite/TestHTTPMetricsRecorded
    metrics_test.go:66: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:66
        	Error:      	"" does not contain "http_requests_total"
        	Test:       	TestMetricsSuite/TestHTTPMetricsRecorded
    metrics_test.go:67: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:67
        	Error:      	"" does not contain "http_request_duration_seconds"
        	Test:       	TestMetricsSuite/TestHTTPMetricsRecorded
=== RUN   TestMetricsSuite/TestLoginMetricsRecorded
    metrics_test.go:131: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:131
        	Error:      	"" does not contain "login_attempts_total"
        	Test:       	TestMetricsSuite/TestLoginMetricsRecorded
    metrics_test.go:134: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:134
        	Error:      	"" does not contain "status=\"success\""
        	Test:       	TestMetricsSuite/TestLoginMetricsRecorded
    metrics_test.go:135: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:135
        	Error:      	"" does not contain "status=\"failed\""
        	Test:       	TestMetricsSuite/TestLoginMetricsRecorded
=== RUN   TestMetricsSuite/TestMetricsCardinality
=== RUN   TestMetricsSuite/TestMetricsEndpointExists
    metrics_test.go:39: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:39
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsEndpointExists
    metrics_test.go:45: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:45
        	Error:      	"" does not contain "# HELP"
        	Test:       	TestMetricsSuite/TestMetricsEndpointExists
    metrics_test.go:46: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:46
        	Error:      	"" does not contain "# TYPE"
        	Test:       	TestMetricsSuite/TestMetricsEndpointExists
=== RUN   TestMetricsSuite/TestMetricsLabelsFormat
=== RUN   TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 302
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 429
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 429
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 429
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 429
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 429
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 429
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 429
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 429
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 429
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 429
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 429
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 429
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 429
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 429
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 429
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 429
        	Test:       	TestMetricsSuite/TestMetricsPerformance
    metrics_test.go:260: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:260
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 429
        	Test:       	TestMetricsSuite/TestMetricsPerformance
=== RUN   TestMetricsSuite/TestRedisMetricsCollector
    metrics_test.go:247: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:247
        	Error:      	"<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Too Many Requests - SecureChat</title>\r\n    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n    <script src=\"/scripts/js/htmx-csrf.js\"></script>\r\n    <script>\r\n        tailwind.config = {\r\n            theme: {\r\n                extend: {\r\n                    fontFamily: {\r\n                        sans: ['Inter', 'system-ui', '-apple-system', 'sans-serif'],\r\n                    },\r\n                    colors: {\r\n                        signal: {\r\n                            bg: '#121212',          \r\n                            sidebar: '#181818',     \r\n                            header: '#1E1E1E',      \r\n                            surface: '#2C2C2C',     \r\n                            hover: '#333333',       \r\n                            blue: '#2C6BED',        \r\n                            bluehover: '#3876F3',\r\n                            text: {\r\n                                main: '#F2F2F2',\r\n                                sub: '#848586',\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    </script>\r\n    <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap\" rel=\"stylesheet\">\r\n    <style>\r\n        @keyframes fadeIn {\r\n            0% { opacity: 0; transform: translateY(20px); }\r\n            100% { opacity: 1; transform: translateY(0); }\r\n        }\r\n        .animate-fade-in {\r\n            animation: fadeIn 0.5s ease-out;\r\n        }\r\n    </style>\r\n</head>\r\n<body class=\"bg-signal-bg text-signal-text-main font-sans antialiased min-h-screen flex flex-col\">\r\n\r\n    \r\n    <nav class=\"bg-signal-header border-b border-white/5 sticky top-0 z-50\">\r\n        <div class=\"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between\">\r\n            <div class=\"flex items-center gap-2\">\r\n                <div class=\"w-10 h-10 bg-signal-blue rounded-full flex items-center justify-center shadow-lg shadow-blue-900/20\">\r\n                    <svg class=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"></path>\r\n                    </svg>\r\n                </div>\r\n                <span class=\"text-xl font-bold text-white\">SecureChat</span>\r\n            </div>\r\n            \r\n            <div class=\"flex items-center gap-3\">\r\n                <a href=\"/\" class=\"px-5 py-2 text-signal-text-sub hover:text-signal-blue font-medium transition-colors\">\r\n                    Home\r\n                </a>\r\n            </div>\r\n        </div>\r\n    </nav>\r\n\r\n    \r\n    <main class=\"flex-1 flex items-center justify-center px-6 py-12\">\r\n        <div class=\"max-w-2xl w-full text-center animate-fade-in\">\r\n            \r\n            \r\n            <div class=\"mb-8 flex justify-center\">\r\n                \r\n                    <div class=\"w-24 h-24 bg-yellow-500/10 rounded-full flex items-center justify-center border-2 border-yellow-500/20\">\r\n                        <svg class=\"w-12 h-12 text-yellow-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\r\n                        </svg>\r\n                    </div>\r\n                \r\n            </div>\r\n\r\n            \r\n            <div class=\"mb-4\">\r\n                <h1 class=\"text-6xl font-bold text-white mb-2\">429</h1>\r\n                <h2 class=\"text-2xl font-semibold text-signal-text-main\">Too Many Requests</h2>\r\n            </div>\r\n\r\n            \r\n            \r\n            <div class=\"mb-6 flex justify-center\">\r\n                <span class=\"inline-block bg-signal-surface px-4 py-2 rounded-full text-signal-text-sub text-sm font-mono border border-white/10\">\r\n                    RATE_LIMITED\r\n                </span>\r\n            </div>\r\n            \r\n\r\n            \r\n            <div class=\"mb-8\">\r\n                <p class=\"text-lg text-signal-text-sub leading-relaxed max-w-xl mx-auto\">\r\n                    Too many requests. Please try again later.\r\n                </p>\r\n            </div>\r\n\r\n            \r\n            <div class=\"flex flex-col sm:flex-row items-center justify-center gap-4\">\r\n                <a href=\"javascript:history.back()\" class=\"px-6 py-3 bg-signal-surface hover:bg-signal-hover text-signal-text-main font-semibold rounded-full transition-all border border-white/10 hover:border-signal-blue/50 inline-flex items-center gap-2\">\r\n                    <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10 19l-7-7m0 0l7-7m-7 7h18\"></path>\r\n                    </svg>\r\n                    Go Back\r\n                </a>\r\n                <a href=\"/\" class=\"px-6 py-3 bg-signal-blue hover:bg-signal-bluehover text-white font-semibold rounded-full transition-all shadow-lg hover:shadow-blue-900/30 inline-flex items-center gap-2\">\r\n                    <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"></path>\r\n                    </svg>\r\n                    Home\r\n                </a>\r\n            </div>\r\n\r\n            \r\n            <div class=\"mt-12 pt-8 border-t border-white/5\">\r\n                <p class=\"text-sm text-signal-text-sub\">\r\n                    \r\n                        Please wait a moment before trying again.\r\n                    \r\n                </p>\r\n            </div>\r\n\r\n        </div>\r\n    </main>\r\n\r\n    \r\n    <footer class=\"py-8 px-6 bg-signal-bg border-t border-white/5\">\r\n        <div class=\"max-w-7xl mx-auto text-center text-signal-text-sub text-sm\">\r\n            <p>&copy; 2024 SecureChat. Privacy-focused messaging for everyone.</p>\r\n        </div>\r\n    </footer>\r\n\r\n</body>\r\n</html>\r\n" does not contain "redis_pool_hits_total"
        	Test:       	TestMetricsSuite/TestRedisMetricsCollector
    metrics_test.go:248: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:248
        	Error:      	"<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Too Many Requests - SecureChat</title>\r\n    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n    <script src=\"/scripts/js/htmx-csrf.js\"></script>\r\n    <script>\r\n        tailwind.config = {\r\n            theme: {\r\n                extend: {\r\n                    fontFamily: {\r\n                        sans: ['Inter', 'system-ui', '-apple-system', 'sans-serif'],\r\n                    },\r\n                    colors: {\r\n                        signal: {\r\n                            bg: '#121212',          \r\n                            sidebar: '#181818',     \r\n                            header: '#1E1E1E',      \r\n                            surface: '#2C2C2C',     \r\n                            hover: '#333333',       \r\n                            blue: '#2C6BED',        \r\n                            bluehover: '#3876F3',\r\n                            text: {\r\n                                main: '#F2F2F2',\r\n                                sub: '#848586',\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    </script>\r\n    <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap\" rel=\"stylesheet\">\r\n    <style>\r\n        @keyframes fadeIn {\r\n            0% { opacity: 0; transform: translateY(20px); }\r\n            100% { opacity: 1; transform: translateY(0); }\r\n        }\r\n        .animate-fade-in {\r\n            animation: fadeIn 0.5s ease-out;\r\n        }\r\n    </style>\r\n</head>\r\n<body class=\"bg-signal-bg text-signal-text-main font-sans antialiased min-h-screen flex flex-col\">\r\n\r\n    \r\n    <nav class=\"bg-signal-header border-b border-white/5 sticky top-0 z-50\">\r\n        <div class=\"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between\">\r\n            <div class=\"flex items-center gap-2\">\r\n                <div class=\"w-10 h-10 bg-signal-blue rounded-full flex items-center justify-center shadow-lg shadow-blue-900/20\">\r\n                    <svg class=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"></path>\r\n                    </svg>\r\n                </div>\r\n                <span class=\"text-xl font-bold text-white\">SecureChat</span>\r\n            </div>\r\n            \r\n            <div class=\"flex items-center gap-3\">\r\n                <a href=\"/\" class=\"px-5 py-2 text-signal-text-sub hover:text-signal-blue font-medium transition-colors\">\r\n                    Home\r\n                </a>\r\n            </div>\r\n        </div>\r\n    </nav>\r\n\r\n    \r\n    <main class=\"flex-1 flex items-center justify-center px-6 py-12\">\r\n        <div class=\"max-w-2xl w-full text-center animate-fade-in\">\r\n            \r\n            \r\n            <div class=\"mb-8 flex justify-center\">\r\n                \r\n                    <div class=\"w-24 h-24 bg-yellow-500/10 rounded-full flex items-center justify-center border-2 border-yellow-500/20\">\r\n                        <svg class=\"w-12 h-12 text-yellow-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\r\n                        </svg>\r\n                    </div>\r\n                \r\n            </div>\r\n\r\n            \r\n            <div class=\"mb-4\">\r\n                <h1 class=\"text-6xl font-bold text-white mb-2\">429</h1>\r\n                <h2 class=\"text-2xl font-semibold text-signal-text-main\">Too Many Requests</h2>\r\n            </div>\r\n\r\n            \r\n            \r\n            <div class=\"mb-6 flex justify-center\">\r\n                <span class=\"inline-block bg-signal-surface px-4 py-2 rounded-full text-signal-text-sub text-sm font-mono border border-white/10\">\r\n                    RATE_LIMITED\r\n                </span>\r\n            </div>\r\n            \r\n\r\n            \r\n            <div class=\"mb-8\">\r\n                <p class=\"text-lg text-signal-text-sub leading-relaxed max-w-xl mx-auto\">\r\n                    Too many requests. Please try again later.\r\n                </p>\r\n            </div>\r\n\r\n            \r\n            <div class=\"flex flex-col sm:flex-row items-center justify-center gap-4\">\r\n                <a href=\"javascript:history.back()\" class=\"px-6 py-3 bg-signal-surface hover:bg-signal-hover text-signal-text-main font-semibold rounded-full transition-all border border-white/10 hover:border-signal-blue/50 inline-flex items-center gap-2\">\r\n                    <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10 19l-7-7m0 0l7-7m-7 7h18\"></path>\r\n                    </svg>\r\n                    Go Back\r\n                </a>\r\n                <a href=\"/\" class=\"px-6 py-3 bg-signal-blue hover:bg-signal-bluehover text-white font-semibold rounded-full transition-all shadow-lg hover:shadow-blue-900/30 inline-flex items-center gap-2\">\r\n                    <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"></path>\r\n                    </svg>\r\n                    Home\r\n                </a>\r\n            </div>\r\n\r\n            \r\n            <div class=\"mt-12 pt-8 border-t border-white/5\">\r\n                <p class=\"text-sm text-signal-text-sub\">\r\n                    \r\n                        Please wait a moment before trying again.\r\n                    \r\n                </p>\r\n            </div>\r\n\r\n        </div>\r\n    </main>\r\n\r\n    \r\n    <footer class=\"py-8 px-6 bg-signal-bg border-t border-white/5\">\r\n        <div class=\"max-w-7xl mx-auto text-center text-signal-text-sub text-sm\">\r\n            <p>&copy; 2024 SecureChat. Privacy-focused messaging for everyone.</p>\r\n        </div>\r\n    </footer>\r\n\r\n</body>\r\n</html>\r\n" does not contain "redis_pool_misses_total"
        	Test:       	TestMetricsSuite/TestRedisMetricsCollector
    metrics_test.go:249: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:249
        	Error:      	"<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Too Many Requests - SecureChat</title>\r\n    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n    <script src=\"/scripts/js/htmx-csrf.js\"></script>\r\n    <script>\r\n        tailwind.config = {\r\n            theme: {\r\n                extend: {\r\n                    fontFamily: {\r\n                        sans: ['Inter', 'system-ui', '-apple-system', 'sans-serif'],\r\n                    },\r\n                    colors: {\r\n                        signal: {\r\n                            bg: '#121212',          \r\n                            sidebar: '#181818',     \r\n                            header: '#1E1E1E',      \r\n                            surface: '#2C2C2C',     \r\n                            hover: '#333333',       \r\n                            blue: '#2C6BED',        \r\n                            bluehover: '#3876F3',\r\n                            text: {\r\n                                main: '#F2F2F2',\r\n                                sub: '#848586',\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    </script>\r\n    <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap\" rel=\"stylesheet\">\r\n    <style>\r\n        @keyframes fadeIn {\r\n            0% { opacity: 0; transform: translateY(20px); }\r\n            100% { opacity: 1; transform: translateY(0); }\r\n        }\r\n        .animate-fade-in {\r\n            animation: fadeIn 0.5s ease-out;\r\n        }\r\n    </style>\r\n</head>\r\n<body class=\"bg-signal-bg text-signal-text-main font-sans antialiased min-h-screen flex flex-col\">\r\n\r\n    \r\n    <nav class=\"bg-signal-header border-b border-white/5 sticky top-0 z-50\">\r\n        <div class=\"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between\">\r\n            <div class=\"flex items-center gap-2\">\r\n                <div class=\"w-10 h-10 bg-signal-blue rounded-full flex items-center justify-center shadow-lg shadow-blue-900/20\">\r\n                    <svg class=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"></path>\r\n                    </svg>\r\n                </div>\r\n                <span class=\"text-xl font-bold text-white\">SecureChat</span>\r\n            </div>\r\n            \r\n            <div class=\"flex items-center gap-3\">\r\n                <a href=\"/\" class=\"px-5 py-2 text-signal-text-sub hover:text-signal-blue font-medium transition-colors\">\r\n                    Home\r\n                </a>\r\n            </div>\r\n        </div>\r\n    </nav>\r\n\r\n    \r\n    <main class=\"flex-1 flex items-center justify-center px-6 py-12\">\r\n        <div class=\"max-w-2xl w-full text-center animate-fade-in\">\r\n            \r\n            \r\n            <div class=\"mb-8 flex justify-center\">\r\n                \r\n                    <div class=\"w-24 h-24 bg-yellow-500/10 rounded-full flex items-center justify-center border-2 border-yellow-500/20\">\r\n                        <svg class=\"w-12 h-12 text-yellow-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\r\n                        </svg>\r\n                    </div>\r\n                \r\n            </div>\r\n\r\n            \r\n            <div class=\"mb-4\">\r\n                <h1 class=\"text-6xl font-bold text-white mb-2\">429</h1>\r\n                <h2 class=\"text-2xl font-semibold text-signal-text-main\">Too Many Requests</h2>\r\n            </div>\r\n\r\n            \r\n            \r\n            <div class=\"mb-6 flex justify-center\">\r\n                <span class=\"inline-block bg-signal-surface px-4 py-2 rounded-full text-signal-text-sub text-sm font-mono border border-white/10\">\r\n                    RATE_LIMITED\r\n                </span>\r\n            </div>\r\n            \r\n\r\n            \r\n            <div class=\"mb-8\">\r\n                <p class=\"text-lg text-signal-text-sub leading-relaxed max-w-xl mx-auto\">\r\n                    Too many requests. Please try again later.\r\n                </p>\r\n            </div>\r\n\r\n            \r\n            <div class=\"flex flex-col sm:flex-row items-center justify-center gap-4\">\r\n                <a href=\"javascript:history.back()\" class=\"px-6 py-3 bg-signal-surface hover:bg-signal-hover text-signal-text-main font-semibold rounded-full transition-all border border-white/10 hover:border-signal-blue/50 inline-flex items-center gap-2\">\r\n                    <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10 19l-7-7m0 0l7-7m-7 7h18\"></path>\r\n                    </svg>\r\n                    Go Back\r\n                </a>\r\n                <a href=\"/\" class=\"px-6 py-3 bg-signal-blue hover:bg-signal-bluehover text-white font-semibold rounded-full transition-all shadow-lg hover:shadow-blue-900/30 inline-flex items-center gap-2\">\r\n                    <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"></path>\r\n                    </svg>\r\n                    Home\r\n                </a>\r\n            </div>\r\n\r\n            \r\n            <div class=\"mt-12 pt-8 border-t border-white/5\">\r\n                <p class=\"text-sm text-signal-text-sub\">\r\n                    \r\n                        Please wait a moment before trying again.\r\n                    \r\n                </p>\r\n            </div>\r\n\r\n        </div>\r\n    </main>\r\n\r\n    \r\n    <footer class=\"py-8 px-6 bg-signal-bg border-t border-white/5\">\r\n        <div class=\"max-w-7xl mx-auto text-center text-signal-text-sub text-sm\">\r\n            <p>&copy; 2024 SecureChat. Privacy-focused messaging for everyone.</p>\r\n        </div>\r\n    </footer>\r\n\r\n</body>\r\n</html>\r\n" does not contain "redis_pool_total_connections"
        	Test:       	TestMetricsSuite/TestRedisMetricsCollector
=== RUN   TestMetricsSuite/TestSessionMetricsRecorded
    metrics_test.go:109: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:109
        	Error:      	"<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Too Many Requests - SecureChat</title>\r\n    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n    <script src=\"/scripts/js/htmx-csrf.js\"></script>\r\n    <script>\r\n        tailwind.config = {\r\n            theme: {\r\n                extend: {\r\n                    fontFamily: {\r\n                        sans: ['Inter', 'system-ui', '-apple-system', 'sans-serif'],\r\n                    },\r\n                    colors: {\r\n                        signal: {\r\n                            bg: '#121212',          \r\n                            sidebar: '#181818',     \r\n                            header: '#1E1E1E',      \r\n                            surface: '#2C2C2C',     \r\n                            hover: '#333333',       \r\n                            blue: '#2C6BED',        \r\n                            bluehover: '#3876F3',\r\n                            text: {\r\n                                main: '#F2F2F2',\r\n                                sub: '#848586',\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    </script>\r\n    <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap\" rel=\"stylesheet\">\r\n    <style>\r\n        @keyframes fadeIn {\r\n            0% { opacity: 0; transform: translateY(20px); }\r\n            100% { opacity: 1; transform: translateY(0); }\r\n        }\r\n        .animate-fade-in {\r\n            animation: fadeIn 0.5s ease-out;\r\n        }\r\n    </style>\r\n</head>\r\n<body class=\"bg-signal-bg text-signal-text-main font-sans antialiased min-h-screen flex flex-col\">\r\n\r\n    \r\n    <nav class=\"bg-signal-header border-b border-white/5 sticky top-0 z-50\">\r\n        <div class=\"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between\">\r\n            <div class=\"flex items-center gap-2\">\r\n                <div class=\"w-10 h-10 bg-signal-blue rounded-full flex items-center justify-center shadow-lg shadow-blue-900/20\">\r\n                    <svg class=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"></path>\r\n                    </svg>\r\n                </div>\r\n                <span class=\"text-xl font-bold text-white\">SecureChat</span>\r\n            </div>\r\n            \r\n            <div class=\"flex items-center gap-3\">\r\n                <a href=\"/\" class=\"px-5 py-2 text-signal-text-sub hover:text-signal-blue font-medium transition-colors\">\r\n                    Home\r\n                </a>\r\n            </div>\r\n        </div>\r\n    </nav>\r\n\r\n    \r\n    <main class=\"flex-1 flex items-center justify-center px-6 py-12\">\r\n        <div class=\"max-w-2xl w-full text-center animate-fade-in\">\r\n            \r\n            \r\n            <div class=\"mb-8 flex justify-center\">\r\n                \r\n                    <div class=\"w-24 h-24 bg-yellow-500/10 rounded-full flex items-center justify-center border-2 border-yellow-500/20\">\r\n                        <svg class=\"w-12 h-12 text-yellow-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\r\n                        </svg>\r\n                    </div>\r\n                \r\n            </div>\r\n\r\n            \r\n            <div class=\"mb-4\">\r\n                <h1 class=\"text-6xl font-bold text-white mb-2\">429</h1>\r\n                <h2 class=\"text-2xl font-semibold text-signal-text-main\">Too Many Requests</h2>\r\n            </div>\r\n\r\n            \r\n            \r\n            <div class=\"mb-6 flex justify-center\">\r\n                <span class=\"inline-block bg-signal-surface px-4 py-2 rounded-full text-signal-text-sub text-sm font-mono border border-white/10\">\r\n                    RATE_LIMITED\r\n                </span>\r\n            </div>\r\n            \r\n\r\n            \r\n            <div class=\"mb-8\">\r\n                <p class=\"text-lg text-signal-text-sub leading-relaxed max-w-xl mx-auto\">\r\n                    Too many requests. Please try again later.\r\n                </p>\r\n            </div>\r\n\r\n            \r\n            <div class=\"flex flex-col sm:flex-row items-center justify-center gap-4\">\r\n                <a href=\"javascript:history.back()\" class=\"px-6 py-3 bg-signal-surface hover:bg-signal-hover text-signal-text-main font-semibold rounded-full transition-all border border-white/10 hover:border-signal-blue/50 inline-flex items-center gap-2\">\r\n                    <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10 19l-7-7m0 0l7-7m-7 7h18\"></path>\r\n                    </svg>\r\n                    Go Back\r\n                </a>\r\n                <a href=\"/\" class=\"px-6 py-3 bg-signal-blue hover:bg-signal-bluehover text-white font-semibold rounded-full transition-all shadow-lg hover:shadow-blue-900/30 inline-flex items-center gap-2\">\r\n                    <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"></path>\r\n                    </svg>\r\n                    Home\r\n                </a>\r\n            </div>\r\n\r\n            \r\n            <div class=\"mt-12 pt-8 border-t border-white/5\">\r\n                <p class=\"text-sm text-signal-text-sub\">\r\n                    \r\n                        Please wait a moment before trying again.\r\n                    \r\n                </p>\r\n            </div>\r\n\r\n        </div>\r\n    </main>\r\n\r\n    \r\n    <footer class=\"py-8 px-6 bg-signal-bg border-t border-white/5\">\r\n        <div class=\"max-w-7xl mx-auto text-center text-signal-text-sub text-sm\">\r\n            <p>&copy; 2024 SecureChat. Privacy-focused messaging for everyone.</p>\r\n        </div>\r\n    </footer>\r\n\r\n</body>\r\n</html>\r\n" does not contain "sessions_created_total"
        	Test:       	TestMetricsSuite/TestSessionMetricsRecorded
    metrics_test.go:110: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/integration/metrics_test.go:110
        	Error:      	"<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Too Many Requests - SecureChat</title>\r\n    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n    <script src=\"/scripts/js/htmx-csrf.js\"></script>\r\n    <script>\r\n        tailwind.config = {\r\n            theme: {\r\n                extend: {\r\n                    fontFamily: {\r\n                        sans: ['Inter', 'system-ui', '-apple-system', 'sans-serif'],\r\n                    },\r\n                    colors: {\r\n                        signal: {\r\n                            bg: '#121212',          \r\n                            sidebar: '#181818',     \r\n                            header: '#1E1E1E',      \r\n                            surface: '#2C2C2C',     \r\n                            hover: '#333333',       \r\n                            blue: '#2C6BED',        \r\n                            bluehover: '#3876F3',\r\n                            text: {\r\n                                main: '#F2F2F2',\r\n                                sub: '#848586',\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    </script>\r\n    <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap\" rel=\"stylesheet\">\r\n    <style>\r\n        @keyframes fadeIn {\r\n            0% { opacity: 0; transform: translateY(20px); }\r\n            100% { opacity: 1; transform: translateY(0); }\r\n        }\r\n        .animate-fade-in {\r\n            animation: fadeIn 0.5s ease-out;\r\n        }\r\n    </style>\r\n</head>\r\n<body class=\"bg-signal-bg text-signal-text-main font-sans antialiased min-h-screen flex flex-col\">\r\n\r\n    \r\n    <nav class=\"bg-signal-header border-b border-white/5 sticky top-0 z-50\">\r\n        <div class=\"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between\">\r\n            <div class=\"flex items-center gap-2\">\r\n                <div class=\"w-10 h-10 bg-signal-blue rounded-full flex items-center justify-center shadow-lg shadow-blue-900/20\">\r\n                    <svg class=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"></path>\r\n                    </svg>\r\n                </div>\r\n                <span class=\"text-xl font-bold text-white\">SecureChat</span>\r\n            </div>\r\n            \r\n            <div class=\"flex items-center gap-3\">\r\n                <a href=\"/\" class=\"px-5 py-2 text-signal-text-sub hover:text-signal-blue font-medium transition-colors\">\r\n                    Home\r\n                </a>\r\n            </div>\r\n        </div>\r\n    </nav>\r\n\r\n    \r\n    <main class=\"flex-1 flex items-center justify-center px-6 py-12\">\r\n        <div class=\"max-w-2xl w-full text-center animate-fade-in\">\r\n            \r\n            \r\n            <div class=\"mb-8 flex justify-center\">\r\n                \r\n                    <div class=\"w-24 h-24 bg-yellow-500/10 rounded-full flex items-center justify-center border-2 border-yellow-500/20\">\r\n                        <svg class=\"w-12 h-12 text-yellow-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\r\n                        </svg>\r\n                    </div>\r\n                \r\n            </div>\r\n\r\n            \r\n            <div class=\"mb-4\">\r\n                <h1 class=\"text-6xl font-bold text-white mb-2\">429</h1>\r\n                <h2 class=\"text-2xl font-semibold text-signal-text-main\">Too Many Requests</h2>\r\n            </div>\r\n\r\n            \r\n            \r\n            <div class=\"mb-6 flex justify-center\">\r\n                <span class=\"inline-block bg-signal-surface px-4 py-2 rounded-full text-signal-text-sub text-sm font-mono border border-white/10\">\r\n                    RATE_LIMITED\r\n                </span>\r\n            </div>\r\n            \r\n\r\n            \r\n            <div class=\"mb-8\">\r\n                <p class=\"text-lg text-signal-text-sub leading-relaxed max-w-xl mx-auto\">\r\n                    Too many requests. Please try again later.\r\n                </p>\r\n            </div>\r\n\r\n            \r\n            <div class=\"flex flex-col sm:flex-row items-center justify-center gap-4\">\r\n                <a href=\"javascript:history.back()\" class=\"px-6 py-3 bg-signal-surface hover:bg-signal-hover text-signal-text-main font-semibold rounded-full transition-all border border-white/10 hover:border-signal-blue/50 inline-flex items-center gap-2\">\r\n                    <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10 19l-7-7m0 0l7-7m-7 7h18\"></path>\r\n                    </svg>\r\n                    Go Back\r\n                </a>\r\n                <a href=\"/\" class=\"px-6 py-3 bg-signal-blue hover:bg-signal-bluehover text-white font-semibold rounded-full transition-all shadow-lg hover:shadow-blue-900/30 inline-flex items-center gap-2\">\r\n                    <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"></path>\r\n                    </svg>\r\n                    Home\r\n                </a>\r\n            </div>\r\n\r\n            \r\n            <div class=\"mt-12 pt-8 border-t border-white/5\">\r\n                <p class=\"text-sm text-signal-text-sub\">\r\n                    \r\n                        Please wait a moment before trying again.\r\n                    \r\n                </p>\r\n            </div>\r\n\r\n        </div>\r\n    </main>\r\n\r\n    \r\n    <footer class=\"py-8 px-6 bg-signal-bg border-t border-white/5\">\r\n        <div class=\"max-w-7xl mx-auto text-center text-signal-text-sub text-sm\">\r\n            <p>&copy; 2024 SecureChat. Privacy-focused messaging for everyone.</p>\r\n        </div>\r\n    </footer>\r\n\r\n</body>\r\n</html>\r\n" does not contain "sessions_active"
        	Test:       	TestMetricsSuite/TestSessionMetricsRecorded
--- FAIL: TestMetricsSuite (1.16s)
    --- FAIL: TestMetricsSuite/TestChatMetricsRecorded (0.13s)
    --- FAIL: TestMetricsSuite/TestDatabaseMetricsCollector (0.00s)
    --- FAIL: TestMetricsSuite/TestErrorMetricsRecorded (0.00s)
    --- FAIL: TestMetricsSuite/TestHTTPMetricsRecorded (0.00s)
    --- FAIL: TestMetricsSuite/TestLoginMetricsRecorded (0.06s)
    --- PASS: TestMetricsSuite/TestMetricsCardinality (0.00s)
    --- FAIL: TestMetricsSuite/TestMetricsEndpointExists (0.00s)
    --- PASS: TestMetricsSuite/TestMetricsLabelsFormat (0.00s)
    --- FAIL: TestMetricsSuite/TestMetricsPerformance (0.01s)
    --- FAIL: TestMetricsSuite/TestRedisMetricsCollector (0.00s)
    --- FAIL: TestMetricsSuite/TestSessionMetricsRecorded (0.06s)
FAIL
FAIL	exc6/tests/integration	1.602s
FAIL
make[1]: Leaving directory 'C:/MyFiles/Code/Go/learn/redis/exc6'
make[1]: Entering directory 'C:/MyFiles/Code/Go/learn/redis/exc6'
Running security tests...
=== RUN   TestAuthSecuritySuite
=== RUN   TestAuthSecuritySuite/TestPasswordMismatchRejected
    auth_test.go:86: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/security/auth_test.go:86
        	Error:      	Should be true
        	Test:       	TestAuthSecuritySuite/TestPasswordMismatchRejected
        	Messages:   	Should return error status code
=== RUN   TestAuthSecuritySuite/TestSessionExpiration
=== RUN   TestAuthSecuritySuite/TestSuccessfulRegistration
=== RUN   TestAuthSecuritySuite/TestWeakPasswordRejected
    auth_test.go:63: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/security/auth_test.go:63
        	Error:      	Should be true
        	Test:       	TestAuthSecuritySuite/TestWeakPasswordRejected
        	Messages:   	Should return error status code
--- FAIL: TestAuthSecuritySuite (2.28s)
    --- FAIL: TestAuthSecuritySuite/TestPasswordMismatchRejected (0.00s)
    --- PASS: TestAuthSecuritySuite/TestSessionExpiration (2.07s)
    --- PASS: TestAuthSecuritySuite/TestSuccessfulRegistration (0.06s)
    --- FAIL: TestAuthSecuritySuite/TestWeakPasswordRejected (0.00s)
=== RUN   TestCSRFSuite
=== RUN   TestCSRFSuite/TestCSRFTokenGeneration
=== RUN   TestCSRFSuite/TestPOSTWithValidCSRFToken
=== RUN   TestCSRFSuite/TestPOSTWithoutCSRFToken
--- PASS: TestCSRFSuite (0.24s)
    --- PASS: TestCSRFSuite/TestCSRFTokenGeneration (0.06s)
    --- PASS: TestCSRFSuite/TestPOSTWithValidCSRFToken (0.06s)
    --- PASS: TestCSRFSuite/TestPOSTWithoutCSRFToken (0.06s)
FAIL
FAIL	exc6/tests/security	2.703s
FAIL
make[1]: Leaving directory 'C:/MyFiles/Code/Go/learn/redis/exc6'
make[1]: Entering directory 'C:/MyFiles/Code/Go/learn/redis/exc6'
Running end-to-end tests...
=== RUN   TestE2ESuite
=== RUN   TestE2ESuite/TestChatWorkflow
    user_flow_test.go:186: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/e2e/user_flow_test.go:186
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 403
        	Test:       	TestE2ESuite/TestChatWorkflow
    user_flow_test.go:193: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/e2e/user_flow_test.go:193
        	Error:      	"[]" should have 1 item(s), but has 0
        	Test:       	TestE2ESuite/TestChatWorkflow
    panic.go:115: test panicked: runtime error: index out of range [0] with length 0
        goroutine 79 [running]:
        runtime/debug.Stack()
        	C:/Program Files/Go/src/runtime/debug/stack.go:26 +0x5e
        github.com/stretchr/testify/suite.failOnPanic(0xc0003068c0, {0x7ff7bb452de0, 0xc00002e798})
        	C:/Users/elpid/go/pkg/mod/github.com/stretchr/testify@v1.11.1/suite/suite.go:89 +0x37
        github.com/stretchr/testify/suite.Run.func1.1()
        	C:/Users/elpid/go/pkg/mod/github.com/stretchr/testify@v1.11.1/suite/suite.go:184 +0x25f
        panic({0x7ff7bb452de0?, 0xc00002e798?})
        	C:/Program Files/Go/src/runtime/panic.go:792 +0x132
        exc6/tests/e2e_test.(*E2ETestSuite).TestChatWorkflow(0xc000144090)
        	C:/MyFiles/Code/Go/learn/redis/exc6/tests/e2e/user_flow_test.go:194 +0x698
        reflect.Value.call({0xc000137d80?, 0xc000140910?, 0x7ff7bacc01a5?}, {0x7ff7bb4cb1e2, 0x4}, {0xc00033df28, 0x1, 0x7ff7bb3cd220?})
        	C:/Program Files/Go/src/reflect/value.go:584 +0xca6
        reflect.Value.Call({0xc000137d80?, 0xc000140910?, 0x66a?}, {0xc00033df28?, 0x7ff7bbaabb70?, 0x7ff7bb215b00?})
        	C:/Program Files/Go/src/reflect/value.go:368 +0xb9
        github.com/stretchr/testify/suite.Run.func1(0xc0003068c0)
        	C:/Users/elpid/go/pkg/mod/github.com/stretchr/testify@v1.11.1/suite/suite.go:196 +0x44a
        testing.tRunner(0xc0003068c0, 0xc0001442d0)
        	C:/Program Files/Go/src/testing/testing.go:1792 +0xcb
        created by testing.(*T).Run in goroutine 30
        	C:/Program Files/Go/src/testing/testing.go:1851 +0x3f6
=== RUN   TestE2ESuite/TestCompleteUserJourney
    user_flow_test.go:110: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/e2e/user_flow_test.go:110
        	Error:      	Not equal: 
        	            	expected: 302
        	            	actual  : 200
        	Test:       	TestE2ESuite/TestCompleteUserJourney
=== RUN   TestE2ESuite/TestFriendRequestWorkflow
    user_flow_test.go:127: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/e2e/user_flow_test.go:127
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 403
        	Test:       	TestE2ESuite/TestFriendRequestWorkflow
    user_flow_test.go:136: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/e2e/user_flow_test.go:136
        	Error:      	"<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Friends - SecureChat</title>\r\n    <script src=\"https://unpkg.com/htmx.org@1.9.10\"></script>\r\n    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n    <script src=\"/scripts/js/htmx-csrf.js\"></script>\r\n    <script>\r\n        tailwind.config = {\r\n            theme: {\r\n                extend: {\r\n                    fontFamily: {\r\n                        sans: ['Inter', 'system-ui', '-apple-system', 'sans-serif'],\r\n                    },\r\n                    colors: {\r\n                        signal: {\r\n                            bg: '#121212',          \r\n                            sidebar: '#181818',     \r\n                            header: '#1E1E1E',      \r\n                            surface: '#2C2C2C',     \r\n                            hover: '#333333',       \r\n                            blue: '#2C6BED',        \r\n                            bluehover: '#3876F3',\r\n                            text: {\r\n                                main: '#F2F2F2',\r\n                                sub: '#848586',\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    </script>\r\n    <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap\" rel=\"stylesheet\">\r\n</head>\r\n<body class=\"h-screen bg-signal-bg font-sans antialiased\">\r\n\r\n    \r\n    <nav class=\"h-14 px-4 bg-signal-header border-b border-white/5 flex justify-between items-center sticky top-0 z-50 backdrop-blur-sm\">\r\n        <div class=\"flex items-center gap-3\">\r\n            <div class=\"w-8 h-8 bg-signal-blue rounded-full flex items-center justify-center shadow-lg shadow-blue-900/20\">\r\n                <svg class=\"w-5 h-5 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"></path>\r\n                </svg>\r\n            </div>\r\n            <span class=\"font-semibold text-lg text-signal-text-main\">Friends</span>\r\n        </div>\r\n        \r\n        <div class=\"flex items-center gap-3\">\r\n            <a href=\"/dashboard\" class=\"text-signal-text-sub hover:text-signal-text-main hover:bg-signal-surface px-4 py-1.5 rounded-full transition-colors flex items-center gap-2 font-medium text-sm\">\r\n                <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10 19l-7-7m0 0l7-7m-7 7h18\"></path>\r\n                </svg>\r\n                Back to chats\r\n            </a>\r\n        </div>\r\n    </nav>\r\n\r\n    <main class=\"max-w-6xl mx-auto mt-8 px-4 pb-8\">\r\n        <div class=\"grid md:grid-cols-2 gap-6\">\r\n            \r\n            \r\n            <section class=\"bg-signal-sidebar rounded-2xl shadow-xl border border-white/5 overflow-hidden\">\r\n                <header class=\"p-6 border-b border-white/5 bg-gradient-to-b from-white/5 to-transparent\">\r\n                    <h2 class=\"text-xl font-bold text-signal-text-main flex items-center gap-2\">\r\n                        <svg class=\"w-5 h-5 text-signal-blue\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\"></path>\r\n                        </svg>\r\n                        Friend Requests\r\n                        \r\n                    </h2>\r\n                </header>\r\n                \r\n                <div id=\"requests-list\" class=\"p-4\">\r\n                    \r\n\r\n    <div class=\"text-center py-12\">\r\n        <svg class=\"w-16 h-16 mx-auto text-signal-text-sub opacity-50 mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\" d=\"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4\"></path>\r\n        </svg>\r\n        <p class=\"text-signal-text-sub\">No pending requests</p>\r\n    </div>\r\n\r\n                </div>\r\n            </section>\r\n\r\n            \r\n            <section class=\"bg-signal-sidebar rounded-2xl shadow-xl border border-white/5 overflow-hidden\">\r\n                <header class=\"p-6 border-b border-white/5 bg-gradient-to-b from-white/5 to-transparent\">\r\n                    <h2 class=\"text-xl font-bold text-signal-text-main flex items-center gap-2\">\r\n                        <svg class=\"w-5 h-5 text-signal-blue\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z\"></path>\r\n                        </svg>\r\n                        Add Friends\r\n                    </h2>\r\n                </header>\r\n                \r\n                <div class=\"p-6\">\r\n                    <div class=\"mb-4\">\r\n                        <input \r\n                            type=\"text\"\r\n                            name=\"q\"\r\n                            placeholder=\"Search by username...\"\r\n                            autocomplete=\"off\"\r\n                            hx-get=\"/friends/search\"\r\n                            hx-trigger=\"keyup changed delay:300ms\"\r\n                            hx-target=\"#search-results\"\r\n                            hx-include=\"[name='q']\"\r\n                            class=\"w-full bg-signal-surface border border-white/10 rounded-xl px-4 py-3 text-signal-text-main placeholder-signal-text-sub focus:outline-none focus:border-signal-blue focus:ring-2 focus:ring-signal-blue/20 transition-all\">\r\n                    </div>\r\n                \r\n                    <div id=\"search-results\">\r\n                        <p class=\"text-signal-text-sub text-sm text-center py-8\">\r\n                            Start typing to search for users...\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        </div>\r\n\r\n        \r\n        <section class=\"mt-6 bg-signal-sidebar rounded-2xl shadow-xl border border-white/5 overflow-hidden\">\r\n            <header class=\"p-6 border-b border-white/5 bg-gradient-to-b from-white/5 to-transparent\">\r\n                <h2 class=\"text-xl font-bold text-signal-text-main flex items-center gap-2\">\r\n                    <svg class=\"w-5 h-5 text-signal-blue\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\"></path>\r\n                    </svg>\r\n                    Your Friends\r\n                    \r\n                </h2>\r\n            </header>\r\n            \r\n            <div id=\"friends-list\" class=\"p-4\">\r\n                \r\n    <div class=\"text-center py-12\">\r\n        <svg class=\"w-16 h-16 mx-auto text-signal-text-sub opacity-50 mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\" d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\"></path>\r\n        </svg>\r\n        <p class=\"text-signal-text-sub mb-3\">No friends yet</p>\r\n        <p class=\"text-signal-text-sub text-sm\">Search for users to add them as friends</p>\r\n    </div>\r\n\r\n            </div>\r\n        </section>\r\n    </main>\r\n\r\n    <style>\r\n        .htmx-indicator { opacity: 0; transition: opacity 200ms ease-in; }\r\n        .htmx-request .htmx-indicator { opacity: 1; }\r\n    </style>\r\n\r\n</body>\r\n</html>" does not contain "friend1"
        	Test:       	TestE2ESuite/TestFriendRequestWorkflow
    user_flow_test.go:144: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/e2e/user_flow_test.go:144
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 403
        	Test:       	TestE2ESuite/TestFriendRequestWorkflow
    user_flow_test.go:150: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/e2e/user_flow_test.go:150
        	Error:      	"[]" should have 1 item(s), but has 0
        	Test:       	TestE2ESuite/TestFriendRequestWorkflow
    user_flow_test.go:154: 
        	Error Trace:	C:/MyFiles/Code/Go/learn/redis/exc6/tests/e2e/user_flow_test.go:154
        	Error:      	"[]" should have 1 item(s), but has 0
        	Test:       	TestE2ESuite/TestFriendRequestWorkflow
--- FAIL: TestE2ESuite (1.21s)
    --- FAIL: TestE2ESuite/TestChatWorkflow (0.85s)
    --- FAIL: TestE2ESuite/TestCompleteUserJourney (0.12s)
    --- FAIL: TestE2ESuite/TestFriendRequestWorkflow (0.12s)
FAIL
FAIL	exc6/tests/e2e	1.398s
FAIL
make[1]: Leaving directory 'C:/MyFiles/Code/Go/learn/redis/exc6'
make[1]: Entering directory 'C:/MyFiles/Code/Go/learn/redis/exc6'
Cleaning up test environment...
Cleanup complete
make[1]: Leaving directory 'C:/MyFiles/Code/Go/learn/redis/exc6'
