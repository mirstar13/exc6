{{$me := .Me}}
{{range .Messages}}
    <div class="message-bubble flex w-full mb-1 group {{if eq .FromID $me}}justify-end{{else}}justify-start{{end}}" data-message-id="{{.MessageID}}" data-timestamp="{{.Timestamp}}">
        <div class="max-w-[85%] md:max-w-[60%] lg:max-w-[500px] px-4 py-2 text-[15px] leading-relaxed shadow-sm relative {{if eq .FromID $me}}bg-signal-blue text-white rounded-2xl rounded-tr-sm{{else}}bg-signal-bubble text-signal-text-main rounded-2xl rounded-tl-sm{{end}}" style="word-break: break-word; overflow-wrap: break-word;">
            {{.Content}}
            <div class="text-[10px] opacity-60 text-right mt-1 select-none {{if eq .FromID $me}}text-blue-100{{else}}text-signal-text-sub{{end}}">
                {{if eq .Timestamp 0}}Now{{else}}{{formatTime .Timestamp}}{{end}}
            </div>
        </div>
    </div>
{{end}}
